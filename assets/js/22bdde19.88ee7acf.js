"use strict";(self.webpackChunkmug_atlas_search_workshop=self.webpackChunkmug_atlas_search_workshop||[]).push([[34],{1148:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>d,frontMatter:()=>s,metadata:()=>i,toc:()=>h});var t=a(4848),r=a(8453);const s={sidebar_position:5},l="Search Challenges",i={id:"search-challenges/challenges",title:"Search Challenges",description:"Now that you've learned about basic and advanced search techniques, it's time to put your skills to the test! Here are four challenges for you to tackle using the Atlas Search Playground.",source:"@site/docs/4_search-challenges/challenges.mdx",sourceDirName:"4_search-challenges",slug:"/search-challenges/challenges",permalink:"/docs/search-challenges/challenges",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/4_search-challenges/challenges.mdx",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"vector-search",permalink:"/docs/search-advanced-search/vector-search"}},c={},h=[{value:"Challenge 1: Find Ocean View Apartments",id:"challenge-1-find-ocean-view-apartments",level:2},{value:"Challenge 2: Budget-Friendly Stays",id:"challenge-2-budget-friendly-stays",level:2},{value:"Challenge 3: Fuzzy Search",id:"challenge-3-fuzzy-search",level:2},{value:"Challenge 4: Superhosts with Luxury Apartments",id:"challenge-4-superhosts-with-luxury-apartments",level:2}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,r.R)(),...e.components},{Details:a}=n;return a||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"search-challenges",children:"Search Challenges"})}),"\n",(0,t.jsx)(n.p,{children:"Now that you've learned about basic and advanced search techniques, it's time to put your skills to the test! Here are four challenges for you to tackle using the Atlas Search Playground."}),"\n",(0,t.jsx)(n.h2,{id:"challenge-1-find-ocean-view-apartments",children:"Challenge 1: Find Ocean View Apartments"}),"\n",(0,t.jsx)(n.p,{children:'Your task is to find all apartments with "Ocean View" in their name that can accommodate at least 4 people.'}),"\n",(0,t.jsxs)(a,{children:[(0,t.jsx)("summary",{children:"Hint"}),(0,t.jsx)(n.p,{children:"Think about using a compound query with text search and a range query."})]}),"\n",(0,t.jsxs)(a,{children:[(0,t.jsx)("summary",{children:"Answer"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'[{\n  $search: {\n    "compound": {\n      "must": [\n        {\n          "text": {\n            "query": "Ocean View",\n            "path": "name"\n          }\n        },\n        {\n          "range": {\n            "path": "accommodates",\n            "gte": 4\n          }\n        }\n      ]\n    }\n  }\n}]\n'})})]}),"\n",(0,t.jsx)(n.h2,{id:"challenge-2-budget-friendly-stays",children:"Challenge 2: Budget-Friendly Stays"}),"\n",(0,t.jsx)(n.p,{children:"Find all listings with a price per night between $50 and $100, sorted from lowest to highest price."}),"\n",(0,t.jsxs)(a,{children:[(0,t.jsx)("summary",{children:"Hint"}),(0,t.jsx)(n.p,{children:"Use a range query for the price, and think about how to sort the results."})]}),"\n",(0,t.jsxs)(a,{children:[(0,t.jsx)("summary",{children:"Answer"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  $search: {\n    "range": {\n      "path": "pricePerNight",\n      "gte": 50,\n      "lte": 100\n    }\n  }\n}\n'})}),(0,t.jsx)(n.p,{children:"Then, in the aggregation pipeline:"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  $sort: {\n    "pricePerNight": 1\n  }\n}\n'})}),(0,t.jsx)(n.p,{children:"Full pipeline:"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'[\n  {\n    $search: {\n      "range": {\n        "path": "pricePerNight",\n        "gte": 50,\n        "lte": 100\n      }\n    }\n  },\n  {\n    $sort: {\n      "pricePerNight": 1\n    }\n  }\n]\n'})})]}),"\n",(0,t.jsx)(n.h2,{id:"challenge-3-fuzzy-search",children:"Challenge 3: Fuzzy Search"}),"\n",(0,t.jsxs)(n.p,{children:["We got a message from an owner of a home appartment stating that their emails was wrongly registered, correct email is ",(0,t.jsx)(n.a,{href:"mailto:trace@gmail.com",children:"trace@gmail.com"}),". Help find a similar email address in the dataset."]}),"\n",(0,t.jsxs)(a,{children:[(0,t.jsx)("summary",{children:"Hint"}),(0,t.jsx)(n.p,{children:"Remember the fuzzy text search we learned about earlier with maxEdits of more than 1."})]}),"\n",(0,t.jsxs)(a,{children:[(0,t.jsx)("summary",{children:"Answer"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'[{\n  $search: {\n    "text": {\n      "query": "trace@gmail.com",\n      "path": "host_email",\n      "fuzzy": {\n        "maxEdits": 2\n      }\n  }\n}\n}]\n'})})]}),"\n",(0,t.jsx)(n.h2,{id:"challenge-4-superhosts-with-luxury-apartments",children:"Challenge 4: Superhosts with Luxury Apartments"}),"\n",(0,t.jsx)(n.p,{children:'Find all listings by superhosts that are either "Entire home/apt" and can accommodate more than 4 people, or have "luxury" in their name.'}),"\n",(0,t.jsxs)(a,{children:[(0,t.jsx)("summary",{children:"Hint"}),(0,t.jsx)(n.p,{children:"This will require a more complex compound query with multiple conditions."})]}),"\n",(0,t.jsxs)(a,{children:[(0,t.jsx)("summary",{children:"Answer"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'[{\n  $search: {\n    "compound": {\n      "should": [\n        {\n          "compound": {\n            "must": [\n              {\n                "equals": {\n                  "path": "room_type",\n                  "value": "Entire home/apt"\n                }\n              },\n              {\n                "range": {\n                  "path": "accommodates",\n                  "gt": 4\n                }\n              }\n            ]\n          }\n        },\n        {\n          "text": {\n            "query": "luxury",\n            "path": "name"\n          }\n        }\n      ],\n      "minimumShouldMatch": 1\n    }\n  }\n}]\n'})})]}),"\n",(0,t.jsx)(n.p,{children:"Congratulations on completing these challenges! Remember, there may be multiple ways to achieve the same result. The important thing is that your queries return the correct results efficiently."})]})}function d(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},8453:(e,n,a)=>{a.d(n,{R:()=>l,x:()=>i});var t=a(6540);const r={},s=t.createContext(r);function l(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);